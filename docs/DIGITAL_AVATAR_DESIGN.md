# 数字人/虚拟分身 设计方案

> 将"生命之树"隐喻升级为"数字人"——用户的虚拟分身与 AI 伙伴

## 🎯 核心定位

### 双重身份
1. **镜像（Mirror）**：反映用户的能力、目标、情绪状态，是"可视化的自己"
2. **伙伴（Companion）**：陪伴用户成长的 AI 助手，懂你、记得你、帮助你

### 产品名称建议
- **智伴**（ZhiBan）- 智能陪伴
- **智己**（ZhiJi）- 智能的自己
- **小智**（XiaoZhi）- 亲切的昵称
- 或沿用 **GEDO** 作为数字人名字

---

## 🔄 概念映射：生命之树 → 数字人

| 生命之树元素 | 数字人对应 | 可视化方式 |
|-------------|-----------|-----------|
| 土壤（价值观/约束） | **性格/核心信念** | 人设标签、对话风格 |
| 根系（能力） | **技能属性** | 属性面板/雷达图/成长条 |
| 树干（人生主题） | **核心愿景** | 头顶光环/胸前徽章/背景特效 |
| 枝叶（今日任务） | **待办议程** | 手持清单/悬浮任务卡片 |
| 花朵（进行中目标） | **追求中的梦想** | 光点环绕/进度光环 |
| 果实（已完成目标） | **成就勋章** | 可穿戴徽章/奖杯墙 |
| 年轮（复盘） | **时间线记忆** | 回忆相册/成长日志 |

---

## 👤 数字人可视化设计

### 外观进化系统

```
初始 → 成长 → 成熟 → 卓越
🌱      🌿      🌳      ✨

Lv.1 素装     - 简约服饰，淡色光效
Lv.2 进阶     - 能力标签可见，服饰升级
Lv.3 精英     - 成就徽章展示，光环加强
Lv.4 传奇     - 完整装备，华丽特效
```

### 状态反映

| 维度 | 可视化表现 |
|------|-----------|
| **能力强度** | 身后光环强弱、颜色饱和度 |
| **目标进度** | 悬浮进度环、发光粒子数量 |
| **情绪状态** | 表情变化、眼神、姿态 |
| **今日完成率** | 能量条、活力状态 |
| **连续打卡** | 火焰图标、连击特效 |

### 8 维度能力展示

环绕数字人的 8 个光点/图标，代表人生领域：
- 💪 健康（绿色）
- 💼 事业（蓝色）
- 👨‍👩‍👧 家庭（橙色）
- 💰 财务（紫色）
- 📚 成长（青色）
- 🤝 社交（粉色）
- 🎨 兴趣（橙红）
- ⭐ 自我实现（靛蓝）

光点大小/亮度 = 该维度的发展程度

---

## 💬 对话交互设计

### 对话入口
```
┌─────────────────────────────────────┐
│                                     │
│         [数字人形象]                │
│           😊                        │
│         ════════                    │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 嗨！今天感觉怎么样？         │   │
│  │ 你还有 3 个任务待完成~       │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 输入消息...          🎤 📎  │   │
│  └─────────────────────────────┘   │
│                                     │
│  [📝记忆] [🎯目标] [✅打卡] [📊洞察] │
│                                     │
└─────────────────────────────────────┘
```

### 对话能力

#### 1. 智忆（记忆存储）
```
用户：今天学会了用 Cursor 写代码，很有成就感
数字人：太棒了！🎉 我帮你记下来：
        「2024-12-26 学会使用 Cursor 编程」
        要归类到哪个能力呢？
        [编程开发] [工具使用] [自定义...]
```

#### 2. 智引（目标规划）
```
用户：我想在 3 个月内学会 AI 产品设计
数字人：好目标！让我帮你拆解一下：
        
        🎯 主目标：掌握 AI 产品设计（3个月）
        
        📌 里程碑：
        1. 第1月：理论基础（课程+书籍）
        2. 第2月：案例分析（10个产品拆解）
        3. 第3月：实战项目（1个完整作品）
        
        这样拆解可以吗？要调整哪部分？
```

#### 3. 行动标注
```
用户：刚跑完步了
数字人：✅ 已完成「晨跑30分钟」！
        今日完成 2/5，还剩：
        - 阅读1小时
        - 复盘本周工作
        - 整理学习笔记
        
        感觉怎么样？[精力充沛] [有点累] [一般]
```

#### 4. 主动关怀
```
数字人：早上好！☀️ 
        昨天你连续第7天完成所有任务了，
        「自律」能力 +5 点经验！
        
        今天有 4 个待办，最重要的是：
        「完成产品文档」（高优先级）
        
        要开始吗？
```

#### 5. 洞察分析
```
用户：最近感觉有点迷茫
数字人：我看了一下你最近的数据：
        
        📊 过去2周：
        - 任务完成率 68%（比上月低 12%）
        - 「成长」维度活跃，「社交」偏弱
        - 情绪记录多为"疲惫"
        
        💡 建议：
        1. 适当减少任务量，保证完成质量
        2. 本周约个朋友聊聊？
        3. 要不要调整一下「学习AI」的节奏？
        
        想聊聊具体是什么让你迷茫吗？
```

---

## 🛠️ 技术实现方案

### 数字人形象技术选型

| 方案 | 优点 | 缺点 | 推荐场景 |
|------|------|------|---------|
| **A. 2D SVG 动画** | 轻量、可控、风格统一 | 表现力有限 | MVP 首选 ✅ |
| **B. Live2D** | 二次元感、表情丰富 | 需要美术资源 | 有设计师时 |
| **C. Ready Player Me** | 3D 逼真、可自定义 | 较重、风格固定 | 元宇宙方向 |
| **D. AI 生成头像** | 个性化、情感化 | 一致性差 | 探索阶段 |

### MVP 推荐：2D 动态数字人

```tsx
// 组件结构
<DigitalAvatar>
  <AvatarBody status={userStatus} level={userLevel} />
  <AbilityAura dimensions={lifeWheel} />
  <AchievementBadges goals={completedGoals} />
  <MoodIndicator emotion={currentMood} />
  <TaskBubbles tasks={todayTasks} />
</DigitalAvatar>

<ChatInterface>
  <MessageList messages={conversation} />
  <InputBar onSend={handleMessage} />
  <QuickActions actions={['memory', 'goal', 'checkin', 'insight']} />
</ChatInterface>
```

### LLM 接入架构

```
┌─────────────────────────────────────────────────────┐
│                    前端 Chat UI                      │
└────────────────────────┬────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────┐
│                  后端 API Gateway                    │
│                                                     │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │
│  │ 用户画像    │  │ 最近记忆    │  │ 当前目标    │ │
│  │ Profile     │  │ Memories    │  │ Goals       │ │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘ │
│         │                │                │        │
│         └────────────────┼────────────────┘        │
│                          ▼                          │
│               ┌─────────────────┐                   │
│               │  Prompt 组装器   │                   │
│               │  (System Prompt  │                   │
│               │   + Context)     │                   │
│               └────────┬────────┘                   │
└────────────────────────┼────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────┐
│                     LLM Provider                     │
│         (DeepSeek / Qwen / OpenAI / Claude)         │
│                                                     │
│  Function Calling:                                  │
│  - capture_memory(content, type, tags)              │
│  - create_goal(title, dimension, deadline)          │
│  - complete_task(task_id, feedback)                 │
│  - get_insights(period, dimension)                  │
│  - search_memory(query)                             │
└─────────────────────────────────────────────────────┘
```

### System Prompt 示例

```markdown
你是用户的数字分身「智伴」，既是他们的镜像，也是成长伙伴。

## 用户画像
- 昵称：{{user.nickname}}
- 人生主题：{{user.lifeTheme}}
- 核心价值观：{{user.coreValues}}
- 当前等级：Lv.{{user.level}}

## 能力档案（8维度）
{{#each lifeWheel}}
- {{dimension}}: {{score}}/10
{{/each}}

## 当前目标
{{#each activeGoals}}
- {{title}} ({{progress}}%) - {{dimension}}
{{/each}}

## 今日任务
{{#each todayTasks}}
- [{{status}}] {{title}}
{{/each}}

## 最近记忆（最近5条）
{{#each recentMemories}}
- {{createdAt}}: {{summary}}
{{/each}}

## 交互原则
1. 语气亲切但不过度热情，像老朋友
2. 主动关联用户的记忆和目标，体现"懂你"
3. 当用户想记录/规划/打卡时，调用相应 Function
4. 适时给予鼓励和建议，但不说教
5. 用户情绪低落时，先倾听，再建议
```

---

## 📱 页面结构调整

### 原结构
```
/app/tree     → 生命之树（可视化）
/app/memory   → 智忆（记忆管理）
/app/goals    → 智引（目标规划）
/app/today    → 今日行动（任务打卡）
/app/insights → 复盘洞察
```

### 新结构（数字人为中心）
```
/app/avatar   → 数字人主页（对话 + 状态可视化）
/app/memory   → 智忆（记忆管理，也可从对话触发）
/app/goals    → 智引（目标规划，也可从对话触发）
/app/today    → 今日行动（也可从对话触发）
/app/insights → 复盘洞察（也可从对话查询）
/app/profile  → 个人设置（数字人自定义）
```

### 数字人主页布局
```
┌────────────────────────────────────────────────────┐
│  [返回] GEDO.AI                    [设置] [通知]  │
├────────────────────────────────────────────────────┤
│                                                    │
│              ┌──────────────────┐                 │
│              │                  │                 │
│              │   [数字人形象]    │    ← 可交互    │
│              │      👤          │                 │
│              │   ════════       │                 │
│              │  ○ ○ ○ ○ ○ ○ ○ ○ │  ← 8维度光点    │
│              └──────────────────┘                 │
│                                                    │
│  ┌──────────────────────────────────────────────┐ │
│  │ 💬 对话区                                     │ │
│  │ ─────────────────────────────────────────── │ │
│  │ 🤖 嗨！今天完成了 2/5 个任务，继续加油！     │ │
│  │                                              │ │
│  │ 👤 刚看完一本书，收获很大                    │ │
│  │                                              │ │
│  │ 🤖 太棒了！要记录到智忆里吗？               │ │
│  │    [记录收获] [稍后再说]                     │ │
│  └──────────────────────────────────────────────┘ │
│                                                    │
│  ┌──────────────────────────────────────────────┐ │
│  │ 输入消息...                        🎤 📎 ➤  │ │
│  └──────────────────────────────────────────────┘ │
│                                                    │
│  [📝智忆] [🎯智引] [✅打卡] [📊洞察]             │
└────────────────────────────────────────────────────┘
```

---

## 🚀 实施路线

### Phase 1: MVP（2-3周）
- [ ] 2D 数字人组件（静态 + 简单表情）
- [ ] 对话界面 UI
- [ ] LLM 接入 + 基础对话
- [ ] Function Calling（记忆/目标/打卡）
- [ ] 基础状态展示（8维度）

### Phase 2: 增强（2周）
- [ ] 数字人动态效果（眨眼、点头、微笑）
- [ ] 能力光环可视化
- [ ] 成就徽章系统
- [ ] 等级进化系统
- [ ] 语音输入

### Phase 3: 完善（持续）
- [ ] 数字人外观自定义
- [ ] 更丰富的表情库
- [ ] 主动关怀系统
- [ ] 多轮对话记忆
- [ ] 语音合成输出

---

## 📊 与原"生命之树"的关系

可以保留生命之树作为一个"可视化模式"，用户可以切换：

```
[数字人视图] ←→ [生命之树视图]
    👤              🌳
```

- **数字人视图**：日常对话、快速操作
- **生命之树视图**：全景俯瞰、长期规划

两者共享同一套数据（智忆、智引、能力等），只是展示形式不同。

---

## 💡 差异化价值

| 竞品 | 差异点 |
|------|--------|
| Character.AI | 我们有真实的用户数据（记忆/目标），不是泛化聊天 |
| AI 日记应用 | 我们有目标规划和行动追踪，不只是记录 |
| 待办工具 | 我们有 AI 对话能力和可视化数字人 |
| 游戏化应用 | 我们基于真实人生数据，不是虚拟游戏 |

核心差异：**"真实人生数据驱动的 AI 数字分身"**


